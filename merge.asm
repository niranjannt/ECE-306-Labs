.ORIG x3000

AND R0 R0 #0
AND R1 R1 #0
AND R2 R2 #0
AND R3 R3 #0
AND R4 R4 #0
AND R5 R5 #0
AND R6 R6 #0
AND R7 R7 #0

LD R0 HEAD

LDI R1 POINTER

Brz NO_CONCAT

LD R5 POINTER

LDR R7 R5 #0

Brz FIRST_SORT

LDR R6 R0 #0

Brz STOP

AND R7 R7 #0

LDR R3 R0 #0

Brz STORE

ADD R7 R7 #1

Brnzp LOOP

LOOP ADD R7 R7 #1

LDR R3 R3 #0

Brz STORE

Brnp LOOP


STORE ST R7 ACTUAL_LENGTH

ADD R7 R7 #10
 
ST R7 LENGTH




;Concatenates the two linked lists

LDR R2 R0 #0

LD R4 ACTUAL_LENGTH

LOOP2 LDR R2 R2 #0

ADD R4 R4 #-2

Brz STORE2

Brnp LOOP2

STORE2 STR R1 R2 #0

LD R3 HEAD

LDR R4 R3 #0

STR R4 R3 #2

AND R4 R4 #0

STR R4 R5 #0






;Loads Ascii value of first linked list

LD R0 HEAD

LDR R2 R0 #0

Brz STOP

NO_CONCAT LDR R6 R0 #0
 
Brz STOP

 
ST R6 FIRST_POINTER

BOTHSAME LD R6 FIRST_POINTER

 ADD R6 R6 #1

LDR R6 R6 #0

ST R6 FIRST_ELEMENT

LDR R7 R6 #0

Brz GOTOTWONEXTPOINTERS



;loads ascii value of second linked list

FIRST_SORT LD R2 FIRST_POINTER


LDR R4 R2 #0

Brz RESTART

ADD R4 R4 #1

LDR R5 R4 #0

ST R5 SECOND_ELEMENT

LDR R2 R5 #0

Brz SWITCHPOINTERS

NOT R7 R7

ADD R7 R7 #1

ADD R2 R2 R7

Brn SWITCHPOINTERS

Brp GOTOTWONEXTPOINTERS


Brz GOTHROUGHLIST

GOTHROUGHLIST LD R6 FIRST_ELEMENT

ADD R6 R6 #1

LD R7 SECOND_ELEMENT

ADD R7 R7 #1

Brnzp AGAIN



AGAIN LDR R5 R6 #0

Brz GOTOTWONEXTPOINTERS

LDR R4 R7 #0

Brz SWITCHPOINTERS

ST R6 FIRST_ELEMENT

ST R7 SECOND_ELEMENT

NOT R4 R4

ADD R4 R4 #1

ADD R2 R5 R4

Brz GOTHROUGHLIST

Brp SWITCHPOINTERS

Brn GOTOTWONEXTPOINTERS


GOTOTWONEXTPOINTERS LD R4 FIRST_POINTER

LDR R2 R4 #0

Brz STOP


ST R2 FIRST_POINTER



Brnzp BOTHSAME



RESTART AND R0 R0 #0
AND R1 R1 #0
AND R2 R2 #0
AND R3 R3 #0
AND R4 R4 #0
AND R5 R5 #0
AND R6 R6 #0
AND R7 R7 #0

LD R0 HEAD

LDR R2 R0 #0


ST R2 FIRST_POINTER

LD R2 FIRST_POINTER

LD R5 LENGTH

ADD R5 R5 #-1

ST R5 LENGTH

Brz STOP

 ADD R2 R2 #1

LDR R2 R2 #0

ST R2 FIRST_ELEMENT

LDR R7 R2  #0

Brz GOTOTWONEXTPOINTERS



;loads ascii value of second linked list

LD R2 FIRST_POINTER

ST R2 FIRST_POINTER

Brz STOP

LDR R4 R2 #0

Brz STOP

ADD R4 R4 #1

LDR R5 R4 #0

ST R5 SECOND_ELEMENT

LDR R2 R5 #0

Brz SWITCHPOINTERS

NOT R7 R7

ADD R7 R7 #1

ADD R2 R2 R7

Brn SWITCHPOINTERS

Brp GOTOTWONEXTPOINTERS


Brz GOTHROUGHLIST


SWITCHPOINTERS LD R3 FIRST_POINTER

LDR R4 R3 #0

ADD R4 R4 #1

ADD R3 R3 #1

LDR R6 R3 #0

LDR R7 R4 #0


STR R7 R3 #0

STR R6 R4 #0

Brnzp GOTOTWONEXTPOINTERS




;halts the program if pointer is zero and both numbers are already correctly sorted
STOP HALT



HEAD .FILL x4000
POINTER .FILL x4001

FIRST_POINTER  .FILL x3300
FIRST_ELEMENT    .FILL x3301
SECOND_ELEMENT   .FILL x3302
SECOND_POINTER   .FILL x3303
LENGTH           .FILL x3304
LOCATION         .FILL x3305
ACTUAL_LENGTH    .FILL x3306
.END

